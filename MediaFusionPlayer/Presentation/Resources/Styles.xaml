<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:local="clr-namespace:MediaFusionPlayer.Presentation.Converters">

    <!-- Конвертеры -->
    <local:BooleanToVisibilityConverter x:Key="BoolToVis"/>
    <local:TimeSpanToStringConverter x:Key="TimeSpanConverter"/>
    <local:PlayPauseIconConverter x:Key="PlayPauseIconConverter"/>

    <!-- Основные цвета -->
    <SolidColorBrush x:Key="TextPrimaryBrush" Color="#FFFFFF"/>
    <SolidColorBrush x:Key="TextSecondaryBrush" Color="#B3B3B3"/>
    <SolidColorBrush x:Key="AccentBrush" Color="#1DB954"/>
    <SolidColorBrush x:Key="AccentHoverBrush" Color="#1ed760"/>

    <!-- Кнопка управления (Previous / Next / etc) -->
    <Style x:Key="ModernControlButton" TargetType="Button">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="Foreground" Value="{StaticResource TextPrimaryBrush}"/>
        <Setter Property="Width" Value="46"/>
        <Setter Property="Height" Value="46"/>
        <Setter Property="Margin" Value="6"/>
        <Setter Property="Cursor" Value="Hand"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Border Background="{TemplateBinding Background}"
                            CornerRadius="23">
                        <ContentPresenter HorizontalAlignment="Center"
                                          VerticalAlignment="Center"/>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
        <Style.Triggers>
            <Trigger Property="IsMouseOver" Value="True">
                <Setter Property="Background" Value="#33FFFFFF"/>
                <Setter Property="RenderTransform">
                    <Setter.Value>
                        <ScaleTransform ScaleX="1.12" ScaleY="1.12"/>
                    </Setter.Value>
                </Setter>
            </Trigger>
        </Style.Triggers>
    </Style>

    <!-- Главная кнопка Play/Pause — ИСПРАВЛЕНО! -->
    <Style x:Key="PlayPauseButtonStyle" TargetType="Button" BasedOn="{StaticResource ModernControlButton}">
        <Setter Property="Width" Value="66"/>
        <Setter Property="Height" Value="66"/>
        <Setter Property="Background" Value="{StaticResource AccentBrush}"/>
        <Setter Property="Content">
            <Setter.Value>
                <Path Data="M8,5.14V19.14L19,12.14L8,5.14Z"
                      Fill="White"
                      Stretch="Uniform"
                      Width="28" Height="28"/>
            </Setter.Value>
        </Setter>
        <Style.Triggers>
            <!-- Иконка меняется по IsPlaying из ViewModel -->
            <DataTrigger Binding="{Binding IsPlaying, RelativeSource={RelativeSource AncestorType=Window}}" Value="True">
                <Setter Property="Content">
                    <Setter.Value>
                        <Grid Width="28" Height="28">
                            <Rectangle Width="9" Height="20" Fill="White" HorizontalAlignment="Left" Margin="3,4,0,4"/>
                            <Rectangle Width="9" Height="20" Fill="White" HorizontalAlignment="Right" Margin="0,4,3,4"/>
                        </Grid>
                    </Setter.Value>
                </Setter>
            </DataTrigger>
            <Trigger Property="IsMouseOver" Value="True">
                <Setter Property="Background" Value="{StaticResource AccentHoverBrush}"/>
            </Trigger>
        </Style.Triggers>
    </Style>

    <!-- Стиль элемента плейлиста -->
    <Style x:Key="PlaylistItemStyle" TargetType="ListBoxItem">
        <Setter Property="Padding" Value="12,10"/>
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="Foreground" Value="{StaticResource TextPrimaryBrush}"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ListBoxItem">
                    <Border Background="{TemplateBinding Background}"
                            CornerRadius="8"
                            Padding="{TemplateBinding Padding}">
                        <ContentPresenter/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter Property="Background" Value="#26FFFFFF"/>
                        </Trigger>
                        <Trigger Property="IsSelected" Value="True">
                            <Setter Property="Background" Value="#33FFFFFF"/>
                            <Setter Property="Foreground" Value="White"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

</ResourceDictionary>