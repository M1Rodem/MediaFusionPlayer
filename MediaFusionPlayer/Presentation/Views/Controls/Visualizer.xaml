<UserControl x:Class="MediaFusionPlayer.Presentation.Views.Controls.Visualizer"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d"
             d:DesignHeight="500" d:DesignWidth="900">

    <Grid Background="#121212">

        <!-- Обложка — просто по центру -->
        <Image Source="{Binding CurrentTrack.CoverArt}"
               Stretch="UniformToFill"
               Margin="80"
               HorizontalAlignment="Center"
               VerticalAlignment="Center"/>

        <!-- Заглушка, если обложки нет -->
        <Border Background="#333333" 
                CornerRadius="12"
                Margin="80">
            <Border.Style>
                <Style TargetType="Border">
                    <Setter Property="Visibility" Value="Collapsed"/>
                    <Style.Triggers>
                        <DataTrigger Binding="{Binding CurrentTrack.CoverArt}" Value="{x:Null}">
                            <Setter Property="Visibility" Value="Visible"/>
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </Border.Style>

            <StackPanel HorizontalAlignment="Center" 
                        VerticalAlignment="Center">
                <Path Data="M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4M12,7L17,12L12,17L7,12L12,7Z"
                      Fill="#1DB954"
                      Width="80" Height="80"
                      Stretch="Uniform"/>
                <TextBlock Text="NO COVER"
                           Foreground="#1DB954"
                           FontSize="18"
                           FontWeight="Bold"
                           Margin="0,20,0,0"/>
            </StackPanel>
        </Border>

        <!-- Название и артист -->
        <StackPanel VerticalAlignment="Bottom"
            HorizontalAlignment="Center"
            Margin="40,0,40,100">
            <TextBlock Text="{Binding CurrentTrack.DisplayName, FallbackValue='Перетащите файлы'}"
               Foreground="White"
               FontSize="36"
               FontWeight="SemiBold"
               TextAlignment="Center"
               TextTrimming="CharacterEllipsis"/>
        </StackPanel>

    </Grid>
</UserControl>